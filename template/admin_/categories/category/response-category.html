<div id="category-list-main-div">
    {% for key,val in categories.items %}
        <div class="accordion border">
            <div class="row">
                <div class="col-lg-1 col-1">{{forloop.counter}}</div>
                <div class="col-lg-5 col-5">{{key}}</div>
                <div class="col-lg-6 col-6">
                    <div class="row">
                        <div class="col-lg-8 col-8">
                            <div class="form-check form-switch">
                                <input class="form-check-input ml-1" type="checkbox" role="switch"
                                    id="flexSwitchCheckChecked" onclick="checkbox({{key.pk}})" {% if key.is_active %}
                                    checked {% endif %}>
                            </div>
                        </div>
                        <div class="col-lg-2 col-2"><a class="mr-4 d-inline" href="javascript:void(0)" title="Edit"><i
                                    class="fa fa-edit color-muted" data-toggle="modal"
                                    data-target="#category-{{key.pk}}"></i>
                            </a></div>
                        <div class="col-lg-2 col-2">
                            <a href="#" onclick="deletecategory({{key.pk}})" class="d-inline " data-toggle="tooltip"
                                data-placement="top" title="Delete"><i class="fa fa-trash color-danger"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel" >
            {% for v in val %}
            <div class="row p-3 border">
                <div class="row">
                    <div class="col-lg-1 col-1">{{forloop.counter}}</div>
                    <div class="col-lg-5 col-5">
                        {{v.category}}
                    </div>
                    <div class="col-lg-6 col-6">
                        <div class="row">
                            <div class="col-lg-8 col-8">
                                <div class="form-check form-switch">
                                    <input class="form-check-input ml-1" type="checkbox" role="switch"
                                        id="flexSwitchCheckChecked" onclick="checkbox({{v.pk}})" {% if v.is_active %}
                                        checked {% endif %}>
                                </div>
                            </div>
                            <div class="col-lg-2 col-2"><a class="mr-4 d-inline" href="javascript:void(0)" title="Edit"><i
                                        class="fa fa-edit color-muted" data-toggle="modal"
                                        data-target="#category-{{v.pk}}"></i> </a></div>
                            <div class="col-lg-2 col-2">
                                <a href="#" onclick="deleteUser({{v.pk}})" class="d-inline " data-toggle="tooltip"
                                    data-placement="top" title="Delete"><i class="fa fa-trash color-danger"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% include 'admin_/categories/category/edit-subcategory.html' %}
            {% endfor %}
        </div>
        {% include 'admin_/categories/category/edit-category.html' %}
        {% endfor %}
</div>

<script>
    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.display === "block") {
                panel.style.display = "none";
            } else {
                panel.style.display = "block";
            }
        });
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>